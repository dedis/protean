{
  "workflows": {
    "vote": {
      "txns": {
        "cast_vote": {
          "opcodes": [
            {
              "name": "read_state",
              "dfu_id": "state"
            },
            {
              "name": "exec",
              "dfu_id": "ceu",
              "inputs": {
                "req" : {
                  "src": "OPCODE",
                  "src_name": "streply",
                  "idx": 0
                }
              }
            },
            {
              "name": "update_state",
              "dfu_id": "state",
              "inputs": {
                "req" : {
                  "src": "OPCODE",
                  "src_name": "execreply",
                  "idx": 1
                }
              }
            }
          ]
        }
      },
      "precommits": []
    },
    "reveal": {
      "txns": {
        "lock": {
          "opcodes": [
            {
              "name": "exec",
              "dfu_id": "ceu",
              "inputs": {
                "req" : {
                  "src": "OPCODE",
                  "src_name": "streply",
                  "idx": 0
                },
                "state": {
                  "src": "KEYVALUE"
                }
              }
            },
            {
              "name": "update_state",
              "dfu_id": "state",
              "inputs": {
                "req" : {
                  "src": "OPCODE",
                  "src_name": "execreply",
                  "idx": 1
                }
              }
            }
          ]
        },
        "shuffle": {
          "opcodes": [
            {
              "name": "exec",
              "dfu_id": "ceu",
              "inputs": {
                "fnc_name": {
                  "src": "CONST"
                }
              }
            },
            {
              "name": "read",
              "dfu_id": "state",
              "inputs": {
                "keys": {
                  "src": "OPCODE",
                  "src_name": "rs",
                  "idx": 0
                },
                "params": {
                  "src": "OPCODE",
                  "src_name": "params",
                  "idx": 0
                }
              }
            },
            {
              "name": "exec",
              "dfu_id": "ceu",
              "inputs": {
                "fnc_name": {
                  "src": "CONST"
                },
                "kv_list": {
                  "src": "OPCODE",
                  "src_name": "kv_list",
                  "idx": 1
                },
                "proofs": {
                  "src": "OPCODE",
                  "src_name": "proofs",
                  "idx": 1
                }
              }
            },
            {
              "name": "shuffle",
              "dfu_id": "easyneff",
              "inputs": {
                "ciphertexts": {
                  "src": "OPCODE",
                  "src_name": "ctxts",
                  "idx": 2
                }
              }
            },
            {
              "name": "exec",
              "dfu_id": "ceu",
              "inputs": {
                "fnc_name": {
                  "src": "CONST"
                },
                "orig_ctxts": {
                  "src": "OPCODE",
                  "src_name": "ctxts",
                  "idx": 2
                },
                "proofs": {
                  "src": "OPCODE",
                  "src_name": "proofs",
                  "idx": 3
                }
              }
            }, {
              "name": "commit",
              "dfu_id": "state",
              "inputs": {
                "kv_list": {
                  "src": "OPCODE",
                  "src_name": "ws",
                  "idx": 4
                }
              }
            }
          ]
        }
      },
      "precommits": []
    }
  },
  "dfus": ["state", "ceu", "easyneff"]
}